/ back to previous page
%h5(style="margin-top: -5px; font-size: 110%;")
  = link_to '<< Back to Vault', dashboard_id_path(session[:current_folder])

.container
  .col-md-12.col-sm-12.col-xs-12{:style => "padding: 1px", :class => "myvaulttable"}
    .page-header{:style => "margin-top: -30px; border-bottom: solid grey 1px"}
      %h1 Product Catalog
      %p Browse through our most recent product catalog
    %body.transition
      .viewer{:style=>"margin: 0px 15px 30px 15px; height: 550px; overflow: hidden; background: #f5f5f5; border:solid white 5px"}
      .controls{:style => "position: float; bottom: 60px; margin: 0 38%; width 300px; text-align: center;"}
        %button.pop{:style=>"background: #fafafa; border: 10", :onclick => "setMode('pop')"} Pop
        %button.carousel{:style=>"background: #fafafa; border: 10;", :onclick => "setMode('carousel')"} Carousel
        %button.book{:style=>"background: #fafafa; border: 10;", :onclick => "setMode('slide')"} Slide
        %button.book{:style=>"background: #fafafa; border: 10;", :onclick => "setMode('spin')"} Spin
:javascript
   var viewer,
   url = 'https://view-api.box.com/1/sessions/738d5d665d8e487b95f3d61e388d9f2b/assets';


           function setMode(mode) {
               console.log(mode);
               $('.controls button').removeClass('selected');

               $('.controls button.' + mode).addClass('selected');
               console.log('JS');

               switch (mode) {
                   case 'pop':
                       $('body').removeClass().addClass('crocodoc-presentation-pop');
                       viewer.setLayout(Crocodoc.LAYOUT_PRESENTATION);
                       console.log(Crocodoc.LAYOUT_PRESENTATION);
                       viewer.zoom(Crocodoc.ZOOM_AUTO);
                       break;

                       case 'carousel':
                       viewer.setLayout(Crocodoc.LAYOUT_PRESENTATION);
                       viewer.zoom(Crocodoc.ZOOM_AUTO);
                       viewer.zoom(Crocodoc.ZOOM_OUT);
                       $('body').removeClass().addClass('crocodoc-presentation-carousel');
                       console.log('crocodoc-carousel');
                       break;

                   case 'slide':
                       viewer.setLayout(Crocodoc.LAYOUT_PRESENTATION_TWO_PAGE);
                       viewer.zoom(Crocodoc.ZOOM_AUTO);
                       $('body').removeClass().addClass('crocodoc-presentation-slide');
                       break;

                   case 'spin':
                      viewer.setLayout(Crocodoc.LAYOUT_PRESENTATION_TWO_PAGE);
                      viewer.zoom(Crocodoc.ZOOM_AUTO);
                      $('body').removeClass().addClass('crocodoc-presentation-spin');
                      break;
               }
           }

           viewer = Crocodoc.createViewer('.viewer', {
               url: url,
               layout: Crocodoc.LAYOUT_PRESENTATION
           });
           viewer.load();

           viewer.on('ready', function () {
               $(window).on('keydown', function (ev) {
                   if (ev.keyCode === 37) {
                       viewer.scrollTo(Crocodoc.SCROLL_PREVIOUS);
                   } else if (ev.keyCode === 39) {
                       viewer.scrollTo(Crocodoc.SCROLL_NEXT);
                   } else {
                       return;
                   }
                   ev.preventDefault();
               });

               setMode('carousel');
           });
