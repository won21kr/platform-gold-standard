
:css

  /*.td {
    vertical-align: middle !important;
    font-size: 120%
  }*/


#index-banner.section.no-pad-bot
  .container
    %h3.thin{:style => "margin-left: 165px; margin-top: 40px; font-size: 28px; letter-spacing: 1.5px; text-color: #002557;"}
      %i.material-icons.prefix{:style => "font-size: 28px;"} done
      Loan Documents
    %h6.caption.thin{:style => "margin-left: 165px; font-size: 16px;"}
      Guided upload for financial documents

.container
  = render 'layouts/sidenav'
  .row{:style => "margin-top: 40px"}
    .col.s8.push-s3
      .flash
        = render partial: "shared/flash_messages", flash: flash
    .col.s10.push-s2{:class => "myvaulttable"}
      .panel.panel-default{:style => "margin-bottom: 0px"}
        %table.table
          %thead
            %tr
              %th File
              %th Name
              %th.hidden-xs.hidden-sm Status
              %th Actions
            %tbody
              -# Loan Agreement
              %tr
                %td.td
                  = image_tag @docStatus["Loan Image"], width: '50px'
                %td.td
                  Loan Agreement
                %td.td
                  = @docStatus["Loan Agreement"]
                %td.td
                  - if @docStatus["Loan Agreement"] == "Missing"
                    %a.waves-effect.btn.white.black-text.modal-trigger{:href => @searchFiles["Loan"].size > 0 ? "#loanVaultDocs" : "#loanModal", :style => "font-color: #263238 !important; text-decoration: none;"} Upload
                  - elsif @docStatus["Loan Agreement"] == "Signature Needed"
                    %form{:method => "get", :action => loan_docusign_path(@fileId["Loan Agreement"])}
                      %button.waves-effect.btn.white.black-text{:type => "submit"}
                        Sign
                  - else
                    %form{:method => "get", :action => view_doc_path(@fileId["Loan Agreement"])}
                      %button.waves-effect.btn.white.black-text{:type => "submit"}
                        View
                        %i.fa.fa-comment.unread-count{:class => "new badge", :style => "margin-left: 4px; margin-right: -7px", "data-count" => "#{@fileComments['Loan']}"}
              -# W2 Form
              %tr
                %td.td
                  = image_tag @docStatus["W2 Image"], width: '50px'
                %td.td
                  W2 Form
                %td.td
                  = @docStatus["W2 Form"]
                %td.td
                  - if @docStatus["W2 Form"] == "Missing"
                    %button.waves-effect.btn.white.black-text.modal-trigger{:href => @searchFiles["W2"].size > 0 ? "#w2VaultDocs" : "#w2Modal"} Upload
                  - else
                    %form{:method => "get", :action => view_doc_path(@fileId["W2 Form"])}
                      %button.waves-effect.btn.white.black-text{:type => "submit"}
                        View
                        %i.fa.fa-comment.unread-count{:class => "new badge", :style => "margin-left: 4px; margin-right: -7px", "data-count" => "#{@fileComments['W2']}"}
              -# Tax Return
              %tr
                %td.td
                  = image_tag @docStatus["Tax Image"], width: '50px'
                %td.td
                  Tax Return
                %td.td
                  = @docStatus["Tax Return"]
                %td.td
                  - if @docStatus["Tax Return"] == "Missing"
                    %button.waves-effect.btn.white.black-text.modal-trigger{:href => @searchFiles["Tax"].size > 0 ? "#taxVaultDocs" : "#taxModal", "data-toggle" => "modal", :type => "button"} Upload
                  - else
                    %form{:method => "get", :action => view_doc_path(@fileId["Tax Return"])}
                      %button.waves-effect.btn.white.black-text{:type => "submit"}
                        View
                        %i.fa.fa-comment.unread-count{:style => "margin-left: 4px; margin-right: -7px", "data-count" => "#{@fileComments['Tax']}"}

      %p{:style=>"text-align: right; font-size: 10px;"}
        = link_to "reset", reset_loan_docs_path

= render 'loan_documents/loan_modals'

-# .home
-#   = render 'layouts/sidenav'
-# .container
-#   .col-md-9.col-sm-8.col-xs-9.pull-right
-#     .flash
-#       = render partial: "shared/flash_messages", flash: flash
-#   .col-md-9.col-sm-8.col-xs-9.pull-right{:style => "padding: 20px; background: #fff", :class => "myvaulttable"}
-#     .panel.panel-default{:style => "margin-bottom: 0px"}
-#       .panel-heading
-#         %h2 My Loan Documents
-#       %table.table
-#         %thead
-#           %tr
-#             %th File
-#             %th Name
-#             %th.hidden-xs.hidden-sm Status
-#             %th Actions
-#           %tbody
-#             -# Loan Agreement
-#             %tr
-#               %td.td
-#                 = image_tag @docStatus["Loan Image"], width: '50px'
-#               %td.td
-#                 Loan Agreement
-#               %td.td
-#                 = @docStatus["Loan Agreement"]
-#               %td.td
-#                 - if @docStatus["Loan Agreement"] == "Missing"
-#                   %button.btn.btn-primary.btn-lg{"data-target" => @searchFiles["Loan"].size > 0 ? "#loanVaultDocs" : "#loanModal", "data-toggle" => "modal", :type => "button"} Upload
-#                 - elsif @docStatus["Loan Agreement"] == "Signature Needed"
-#                   %form{:method => "get", :action => loan_docusign_path(@fileId["Loan Agreement"])}
-#                     %button.btn.btn-primary.btn-lg{:type => "submit"}
-#                       Sign
-#                 - else
-#                   %form{:method => "get", :action => view_doc_path(@fileId["Loan Agreement"])}
-#                     %button.btn.btn-primary.btn-lg{:type => "submit"}
-#                       View
-#                       %i.fa.fa-comment.unread-count{:style => "margin-left: 4px; margin-right: -7px", "data-count" => "#{@fileComments['Loan']}"}
-#             -# W2 Form
-#             %tr
-#               %td.td
-#                 = image_tag @docStatus["W2 Image"], width: '50px'
-#               %td.td
-#                 W2 Form
-#               %td.td
-#                 = @docStatus["W2 Form"]
-#               %td.td
-#                 - if @docStatus["W2 Form"] == "Missing"
-#                   %button.btn.btn-primary.btn-lg{"data-target" => @searchFiles["W2"].size > 0 ? "#w2VaultDocs" : "#w2Modal", "data-toggle" => "modal", :type => "button"} Upload
-#                 - else
-#                   %form{:method => "get", :action => view_doc_path(@fileId["W2 Form"])}
-#                     %button.btn.btn-primary.btn-lg{:type => "submit"}
-#                       View
-#                       %i.fa.fa-comment.unread-count{:style => "margin-left: 4px; margin-right: -7px", "data-count" => "#{@fileComments['W2']}"}
-#             -# Tax Return
-#             %tr
-#               %td.td
-#                 = image_tag @docStatus["Tax Image"], width: '50px'
-#               %td.td
-#                 Tax Return
-#               %td.td
-#                 = @docStatus["Tax Return"]
-#               %td.td
-#                 - if @docStatus["Tax Return"] == "Missing"
-#                   %button.btn.btn-primary.btn-lg{"data-target" => @searchFiles["Tax"].size > 0 ? "#taxVaultDocs" : "#taxModal", "data-toggle" => "modal", :type => "button"} Upload
-#                 - else
-#                   %form{:method => "get", :action => view_doc_path(@fileId["Tax Return"])}
-#                     %button.btn.btn-primary.btn-lg{:type => "submit"}
-#                       View
-#                       %i.fa.fa-comment.unread-count{:style => "margin-left: 4px; margin-right: -7px", "data-count" => "#{@fileComments['Tax']}"}
-#
-#     %p{:style=>"text-align: right; font-size: 10px;"}
-#       = link_to "reset", reset_loan_docs_path




:javascript
  $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal-trigger').leanModal();
  });

  Dropzone.options.myDropzone = {
    init: function() {
      this.on("queuecomplete", function(file) {
        setTimeout(function() {location.reload();}, 1000);
      });
    }
  };
